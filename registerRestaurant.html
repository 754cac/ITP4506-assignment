<!DOCTYPE html>
<html lang="en">

<head>
    <title>Restaurant Register</title>
    <link rel="stylesheet" type="text/css" href="register.css">
    <script src="jslib/jquery-1.6.js"></script>
    <script src="path_to/jquery.cookie.js"></script>
    <script src="main.js" charset="utf-8"></script>
</head>

<body>
    <nav role="navigation" aria-label="navigation">
        <ul>
            <li><a href="#">Home</a></li>
            <li class="dropdown">
                <a class="active">Register</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="registerCustomer.html" id="customerRef" class="formLinks">Customer</a>
                    </li>
                    <li>
                        <a href="registerRestaurant.html" id="restaurantRef" class="active">Restaurant</a>
                    </li>
                    <li>
                        <a href="registerDelivery.html" id="deliveryRef" class="formLinks">Delivery Personnel</a>
                    </li>
                </ul>
            </li>
            <li><a href="login.html">Login</a></li>
            <li>
                <input type="button" value="Logout" name="logout" id="logout" style="display: block;">
            </li>
        </ul>
    </nav>

    <!-- Restaurant Registration Form -->
    <div id="restaurant" class="tabcontent">
        <div id="content">
            <form>
                <h2>Restaurant Registration</h2>
                <div id="error-message" style="color: red;"></div>
                <label for="restaurant-name">Restaurant Name:</label>
                <input type="text" id="restaurant-name">

                <label for="restaurant-address">Address:</label>
                <input type="text" id="restaurant-address">

                <label for="restaurant-phone">Phone Number:</label>
                <input type="text" id="restaurant-phone">

                <label for="restaurant-email">Email:</label>
                <input type="email" id="restaurant-email">

                <label for="password">Password:</label>
                <input type="password" id="password">

                <label for="repeat-password">Repeat Password:</label>
                <input type="password" id="repeat-password">
                <div class="checkbox-container">
                    <input type="checkbox" name="termAgree" id="termAgree" style="margin-right: 5px;">
                    <label for="termAgree">I agree to the data and privacy terms.</label>
                </div>
                <input type="submit" value="Register" onclick="toLogin()">
            </form>
        </div>
    </div>
    <script>
        function validateRegistrationForm() {
            var name = document.getElementById("customer-name").value;
            var email = document.getElementById("customer-email").value;
            var phone = document.getElementById("customer-phone").value;
            var password = document.getElementById("password").value;
            var repeatPassword = document.getElementById("repeat-password").value;
            var termAgree = document.getElementById("termAgree").checked;
            var errorMessage = document.getElementById("error-message");
            errorMessage.innerHTML = ""; // Clear any existing error message

            if (name === "" || email === "" || phone === "" || password === "" || repeatPassword === "") {
                errorMessage.innerHTML = "Please fill in all fields.";
                return false;
            }
            if (!termAgree) {
                errorMessage.innerHTML = "Please agree user terms.";
                return false;
            }
            if (password !== repeatPassword) {
                errorMessage.innerHTML = "Passwords do not match.";
                return false;
            }
            return true;
        }
        function toLogin(status, event) {
            status = validateRegistrationForm();
            event.preventDefault();
            if (status)
                window.location.href = "login.html";
        }
        function toLogin() {

            window.location.href = "login.html";
        }
        $(document).ready(function () {
            var accountType = getCookie("accountType");
            $('#customerRef').parent().hide();
            $('#deliveryRef').parent().hide();
            if (accountType == "operator") {
                alert("unauthorized access");
                window.location.href = "login.html";
            }


            $("#logout").click(function () {
                var cookies = document.cookie.split("; ");
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i];
                    var eqPos = cookie.indexOf("=");
                    var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                    document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
                }
                window.location.href = "login.html";
            })
        });
    </script>
</body>

</html>