<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login</title>
    <link rel="stylesheet" type="text/css" href="register.css">
    <style>
        form {
            margin: 100px auto;
        }
    </style>
</head>

<body>
    <nav role="navigation" aria-label="navigation">
        <ul>
            <li><a href="#">Home</a></li>
            <li class="dropdown">
                <a href="#">Register</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="registerCustomer.html" class="formLinks">Customer</a>
                    </li>
                    <li>
                        <a href="registerRestaurant.html" class="formLinks">Restaurant</a>
                    </li>
                    <li>
                        <a href="registerDelivery.html" class="formLinks">Delivery Personnel</a>
                    </li>
                </ul>
            </li>
            <li><a href="login.html" class="active">Login</a></li>
        </ul>
    </nav>

    <form>
        <h2>Login</h2>
        <label for="email">Email:</label>
        <input type="email" id="email">
        <label for="password">Password:</label>
        <input type="password" id="password">
        <a href="login.html">Forgot your password</a>
        <input type="submit" value="Login" onclick="login(event)">
        <p id="error-message" style="display: none; color: red;"></p>
    </form>
    <script>
        var incorrectAttempts = 0;

        function login(event) {
            event.preventDefault(); // Prevents the form submission from causing a page reload

            // Retrieve the entered email and password values from the form
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            // Perform validation and login logic
            if (email === "" || password === "") {
                displayErrorMessage("Please enter both email and password.");
            } else {
                if (email === 'a') {
                    // Redirect to a.html after successful login
                    window.location.href = "registerCustomer.html";
                } else if (email === 'b') {
                    // Redirect to b.html after successful login
                    window.location.href = "RestIndex.html";
                } else if (email === 'c') {
                    // Redirect to c.html after successful login
                    window.location.href = "CustIndex.html";
                } else {
                    incorrectAttempts++;

                    if (incorrectAttempts > 4) {
                        displayErrorMessage("Too many incorrect attempts. Your account is blocked.");
                        document.getElementById("email").disabled = true;
                        document.getElementById("password").disabled = true;
                    } else {
                        displayErrorMessage("Invalid email or password. Attempt: " + incorrectAttempts);
                    }
                }
            }
        }

        function displayErrorMessage(message) {
            var errorMessage = document.getElementById("error-message");
            errorMessage.textContent = message;
            errorMessage.style.display = "block";
        }
    </script>
</body>

</html>